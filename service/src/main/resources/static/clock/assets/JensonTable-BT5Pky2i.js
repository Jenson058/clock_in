var X=Object.defineProperty;var Y=(l,i,e)=>i in l?X(l,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[i]=e;var x=(l,i,e)=>(Y(l,typeof i!="symbol"?i+"":i,e),e);import{d as U,A as J,c as f,b as n,g,o as s,k as E,r as w,W as Z,X as G,a as u,V as S,w as c,_ as B,P as b,Y as L,F as V,E as H,l as z,Z as K,y as _,$ as Q,a0 as R,x as P,a1 as ee,p as te,i as ne}from"./index-Cbuz69k2.js";class N{constructor(i,e,p){x(this,"page");x(this,"pageSize");x(this,"total");this.page=i??1,this.pageSize=e??50,this.total=p??0}}const ae={style:{width:"100%"}},oe=U({__name:"JensonPagination",props:{pageConfig:{default:()=>new N}},emits:["initTable"],setup(l,{emit:i}){J(async()=>{await h()});const e=l,p=i;async function h(){p("initTable")}return(v,r)=>{const C=g("el-pagination");return s(),f("div",ae,[n(C,{"current-page":e.pageConfig.page,"onUpdate:currentPage":r[0]||(r[0]=m=>e.pageConfig.page=m),"page-size":e.pageConfig.pageSize,"onUpdate:pageSize":r[1]||(r[1]=m=>e.pageConfig.pageSize=m),"page-sizes":[50,100,200,500,1e3],"default-page-size":e.pageConfig.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pageConfig.total,onChange:h},null,8,["current-page","page-size","default-page-size","total"])])}}}),le=E(oe,[["__scopeId","data-v-db5b8af2"]]),A=l=>(te("data-v-e7980c19"),l=l(),ne(),l),se={class:"header"},ie={class:"header-add"},de={class:"header-setting"},ce={key:0,class:"header-setting-btn"},ue={key:1,class:"header-setting-btn"},pe={key:2,class:"header-setting-btn"},re={class:"setting-dropdown"},ge={class:"setting-dropdown-item"},_e=A(()=>u("span",null,"表格字段",-1)),fe=A(()=>u("div",{class:"setting-dropdown-item"},[u("span",null,"表格属性")],-1)),he=U({__name:"JensonTable",props:{columnList:{},tableData:{},pageConfig:{default:()=>new N},columnMinWidth:{},column:{type:Boolean},selection:{type:Boolean},index:{type:Boolean},setting:{type:Boolean},view:{type:Boolean},refresh:{type:Boolean}},emits:["initTable","handleSelectionChange"],setup(l,{emit:i}){J(()=>{I(!0),console.log(e.columnList)});const e=l,p=w(!1),h=w(!1),v=w([]),r=w(!1),C=w([]),m=i;Z();async function T(){await m("initTable")}function I(a){r.value=a;let t=(e==null?void 0:e.columnList)??[];v.value=a?t.map(d=>d.label??""):[],h.value=!1,$(t,v.value)}const D=a=>{let t=(e==null?void 0:e.columnList)??[];const d=a.length;r.value=d===t.length,h.value=d>0&&d<t.length,$(t,a)};function $(a,t){C.value=[];for(let d of a)for(let y of t)G.isEqual(d.label??"",y)&&C.value.push(d)}async function M(){await T(),H.success(new Date+"刷新成功")}function j(a){m("handleSelectionChange",a)}return(a,t)=>{const d=g("el-icon"),y=g("el-checkbox"),F=g("el-checkbox-group"),W=g("el-dropdown"),k=g("el-table-column"),q=g("el-empty"),O=g("el-table");return s(),f(V,null,[u("div",se,[u("div",ie,[S(a.$slots,"header-add",{},void 0,!0)]),u("div",de,[e.refresh?(s(),f("div",ce,[n(B,{onClick:M},{default:c(()=>[n(d,null,{default:c(()=>[n(z(K))]),_:1})]),_:1})])):b("",!0),e.view?(s(),f("div",ue,[n(B,{onClick:t[0]||(t[0]=()=>{p.value=!p.value})},{default:c(()=>[p.value?(s(),_(d,{key:0},{default:c(()=>[n(z(Q))]),_:1})):(s(),_(d,{key:1},{default:c(()=>[n(z(R))]),_:1}))]),_:1})])):b("",!0),e.setting?(s(),f("div",pe,[n(W,{trigger:"click"},{dropdown:c(()=>[u("div",re,[u("div",ge,[_e,u("div",null,[n(y,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=o=>r.value=o),label:"全部",indeterminate:h.value,onChange:I},null,8,["modelValue","indeterminate"]),n(F,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=o=>v.value=o),onChange:D},{default:c(()=>[(s(!0),f(V,null,P(e.columnList,o=>(s(),_(y,{label:o.label??""},null,8,["label"]))),256))]),_:1},8,["modelValue"])])]),fe])]),default:c(()=>[n(B,null,{default:c(()=>[n(d,null,{default:c(()=>[n(z(ee))]),_:1})]),_:1})]),_:1})])):b("",!0)])]),u("div",{class:L(p.value?"setting-open":"setting-not-open")},[S(a.$slots,"setting-hide",{},void 0,!0)],2),n(O,{class:L(p.value?"table-not-setting":"table-setting"),data:e.tableData,border:"","header-row-class-name":"table-header",onSelectionChange:j},{empty:c(()=>[n(q,{description:"暂无数据"})]),default:c(()=>[e.selection?(s(),_(k,{key:0,type:"selection",width:"55"})):b("",!0),e.index?(s(),_(k,{key:1,fixed:"left",type:"index",label:"序号",width:"80",index:o=>o+1},null,8,["index"])):b("",!0),(s(!0),f(V,null,P(C.value,o=>(s(),_(k,{label:o.label,prop:o.prop,width:Number(o.width)},null,8,["label","prop","width"]))),256)),S(a.$slots,"column",{},void 0,!0),a.column?(s(),_(k,{key:2,label:"操作",fixed:"right","min-width":"150px"},{default:c(({row:o})=>[S(a.$slots,"controls",{row:o},void 0,!0)]),_:3})):b("",!0)]),_:3},8,["class","data"]),n(le,{"page-config":e.pageConfig,"onUpdate:pageConfig":t[3]||(t[3]=o=>e.pageConfig=o),onInitTable:T},null,8,["page-config"])],64)}}}),ve=E(he,[["__scopeId","data-v-e7980c19"]]);export{ve as J,N as P};
